(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7bddacca"],{"578a":function(o,t,e){"use strict";e.r(t);function l(t){return Object(f.C)("data-v-e361c6d8"),t=t(),Object(f.A)(),t}var f=e("7a23"),h={class:"wrapper"},d={class:"logo"},p={class:"form"},m={class:"row"},g={class:"row"},b={class:"agreement"},y=Object(f.j)("我已阅读"),v={class:"buttons"},O=Object(f.j)("登 录"),w=l(function(){return Object(f.i)("div",{class:"tip"},"未注册手机号自动注册登录",-1)}),j={slots:"default",style:{height:"320px",width:"100%","overflow-y":"auto"}},x=["src"];var a,n=e("c973"),k=e.n(n),n=e("9523"),n=e.n(n),r=e("a34a"),i=e.n(r),c=e("75e6"),s=e("626a"),L=e("d6e4"),u=e("4ec3"),_=null,r={name:"Login",data:function(){return{agreement:Object(f.E)(!1),phone:"",sms:"",loading:!1,smsTime:0,smsLoading:!1,agreementShow:!1,agreementURL:null}},components:n()({},c.a.Component.name,c.a.Component),watch:{},computed:{},created:function(){},mounted:function(){a=this},beforeUnmount:function(){},methods:{getSMS:function(){a.smsLoading||(a.smsLoading=!0,Object(u.g)({phoneNum:a.phone}).then(function(t){a.smsLoading=!1,0==t.retCode?(a.smsTime=60,_=setInterval(function(){0!=a.smsTime?a.smsTime--:clearInterval(_)},1e3)):c.a.alert({title:"温馨提示",message:t.retMessage})}).catch(function(){a.smsLoading=!1,c.a.alert({title:"温馨提示",message:"网络错误"})}))},login:function(){return k()(i.a.mark(function t(){var e,n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(e=a).phone,r=e.sms,o=e.agreement,e.loading)return t.abrupt("return");t.next=3;break;case 3:if(n){t.next=5;break}return t.abrupt("return",Object(s.a)("请输入手机号码"));case 5:if(r){t.next=7;break}return t.abrupt("return",Object(s.a)("请输入短信验证码"));case 7:if(o){t.next=9;break}return t.abrupt("return",Object(s.a)("请阅读并同意相关协议"));case 9:return a.loading=!0,t.next=12,Object(u.f)({phoneNum:n,identifyCode:r}).then(function(t){if(a.loading=!1,0==t.retCode){var e,n;if(localStorage.setItem("LOGIN_TOKEN",t.data.loginToken),Object(L.a)({type:"success",message:"登录成功, 请继续操作"}),t.data.updateType&&-1===["TYPE_66_NONE","TYPE_18_NONE"].indexOf(t.data.updateType))return t.data.userInfo&&(r=(e=t.data.userInfo).fullName,e=e.idNum,n=sessionStorage.getItem("COMPNAME")||"服务提供者",sessionStorage.setItem("PRE_REGISTER_PARAMS",JSON.stringify({fullName:r,idNum:e,compName:n}))),void a.$router.replace("/info?updateType="+t.data.updateType);var r=sessionStorage.getItem("CERT_TOKEN");a.$router.replace("/auth?certToken=".concat(r))}else c.a.alert({title:"温馨提示",message:t.retMessage})}).catch(function(t){a.loading=!1,c.a.alert({title:"网络错误",message:t})});case 12:case"end":return t.stop()}},t)}))()}}},n=(e("652a"),e("6b0d")),e=e.n(n);t.default=e()(r,[["render",function(t,e,u,l,n,r){var o=Object(f.F)("van-image"),a=Object(f.F)("van-field"),i=Object(f.F)("van-button"),c=Object(f.F)("van-checkbox"),s=Object(f.F)("van-dialog");return Object(f.z)(),Object(f.h)("div",h,[Object(f.i)("div",d,[Object(f.k)(o,{width:"15rem",src:"./images/logo_blue.png"})]),Object(f.i)("div",p,[Object(f.i)("div",m,[Object(f.k)(a,{modelValue:n.phone,"onUpdate:modelValue":e[0]||(e[0]=function(t){return n.phone=t}),center:"",clearable:"",placeholder:"请输入手机号码",type:"tel","left-icon":"phone-circle-o",maxlength:11,class:"phone-input"},null,8,["modelValue"])]),Object(f.i)("div",g,[Object(f.k)(a,{modelValue:n.sms,"onUpdate:modelValue":e[1]||(e[1]=function(t){return n.sms=t}),"left-icon":"envelop-o",placeholder:"请输入短信验证码",clearable:"",maxlength:6},{button:Object(f.M)(function(){return[Object(f.k)(i,{size:"small",class:"sms-btn",disabled:11!=n.phone.length||0<n.smsTime||n.smsLoading,onClick:r.getSMS},{default:Object(f.M)(function(){return[Object(f.j)(Object(f.I)(0==n.smsTime?"获取验证码":"重新获取(".concat(n.smsTime,"秒)")),1)]}),_:1},8,["disabled","onClick"])]}),_:1},8,["modelValue"])]),Object(f.i)("div",b,[Object(f.k)(c,{modelValue:n.agreement,"onUpdate:modelValue":e[2]||(e[2]=function(t){return n.agreement=t}),shape:"square","checked-color":"#2D9BFF","icon-size":"14px"},{default:Object(f.M)(function(){return[y]}),_:1},8,["modelValue"]),Object(f.i)("span",{onClick:e[3]||(e[3]=function(t){n.agreementURL="https://anshicloud.dabby.com.cn/AnshiCloudAppWeb/userProtocol.html",n.agreementShow=!0})},"《安识云服务协议》"),Object(f.i)("span",{onClick:e[4]||(e[4]=function(t){n.agreementURL="https://anshicloud.dabby.com.cn/AnshiCloudAppWeb/privacyPolicyvh5.html",n.agreementShow=!0})},"《安识云隐私政策》"),Object(f.i)("span",{onClick:e[5]||(e[5]=function(t){n.agreementURL="https://anshicloud.dabby.com.cn/AnshiCloudAppWeb/childrensProtectionH5.html",n.agreementShow=!0})},"《安识云儿童个人信息保护规则》")]),Object(f.i)("div",v,[Object(f.k)(i,{type:"primary",block:"",loading:n.loading,"loading-text":"正在登录",onClick:r.login},{default:Object(f.M)(function(){return[O]}),_:1},8,["loading","onClick"])]),w]),Object(f.k)(s,{show:n.agreementShow,title:" ","show-cancel-button":"","confirm-button-text":"同意",onConfirm:e[6]||(e[6]=function(t){n.agreementShow=!1,n.agreement=!0}),onCancel:e[7]||(e[7]=function(t){n.agreementShow=!1,n.agreement=!1})},{default:Object(f.M)(function(){return[Object(f.i)("div",j,[Object(f.i)("iframe",{src:n.agreementURL,frameborder:"0",height:"300",width:"100%"},null,8,x)])]}),_:1},8,["show"])])}],["__scopeId","data-v-e361c6d8"]])},"652a":function(t,e,n){"use strict";n("bafb")},9523:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},"96cf":function(e,t,n){e=function(i){"use strict";var s,c=Object.prototype,u=c.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",f=t.asyncIterator||"@@asyncIterator",h=t.toStringTag||"@@toStringTag";function n(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{n({},"")}catch(t){n=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o,a,i,c,e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),r=new L(r||[]);return e._invoke=(o=t,a=n,i=r,c=m,function(t,e){if(c===b)throw new Error("Generator is already running");if(c===y){if("throw"===t)throw e;return E()}for(i.method=t,i.arg=e;;){var n=i.delegate;if(n){n=function t(e,n){var r=e.iterator[n.method];if(r===s){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=s,t(e,n),"throw"===n.method))return l;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}r=p(r,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,l;r=r.arg;if(!r)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l;{if(!r.done)return r;n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=s)}n.delegate=null;return l}(n,i);if(n){if(n===l)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(c===m)throw c=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);c=b;n=p(o,a,i);if("normal"===n.type){if(c=i.done?y:g,n.arg!==l)return{value:n.arg,done:i.done}}else"throw"===n.type&&(c=y,i.method="throw",i.arg=n.arg)}}),e}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}i.wrap=d;var m="suspendedStart",g="suspendedYield",b="executing",y="completed",l={};function v(){}function O(){}function e(){}var t={},o=(n(t,r,function(){return this}),Object.getPrototypeOf),o=o&&o(o(_([]))),a=(o&&o!==c&&u.call(o,r)&&(t=o),e.prototype=v.prototype=Object.create(t));function w(t){["next","throw","return"].forEach(function(e){n(t,e,function(t){return this._invoke(e,t)})})}function j(i,c){var e;this._invoke=function(n,r){function t(){return new c(function(t,e){!function e(t,n,r,o){var a,t=p(i[t],i,n);if("throw"!==t.type)return(n=(a=t.arg).value)&&"object"==typeof n&&u.call(n,"__await")?c.resolve(n.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):c.resolve(n).then(function(t){a.value=t,r(a)},function(t){return e("throw",t,r,o)});o(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(e){if(e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(u.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=s,t.done=!0,t}).next=t}return{next:E}}function E(){return{value:s,done:!0}}return n(a,"constructor",O.prototype=e),n(e,"constructor",O),O.displayName=n(e,h,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===O||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,e):(t.__proto__=e,n(t,h,"GeneratorFunction")),t.prototype=Object.create(a),t},i.awrap=function(t){return{__await:t}},w(j.prototype),n(j.prototype,f,function(){return this}),i.AsyncIterator=j,i.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var a=new j(d(t,e,n,r),o);return i.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},w(a),n(a,h,"Generator"),n(a,r,function(){return this}),n(a,"toString",function(){return"[object Generator]"}),i.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=s)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return a.type="throw",a.arg=n,r.next=t,e&&(r.method="next",r.arg=s),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=u.call(o,"catchLoc"),c=u.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(n=o.completion).type&&(r=n.arg,k(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=s),l}},i}(e.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},a34a:function(t,e,n){t.exports=n("96cf")},bafb:function(t,e,n){},c973:function(t,e){function s(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}t.exports=function(c){return function(){var t=this,i=arguments;return new Promise(function(e,n){var r=c.apply(t,i);function o(t){s(r,e,n,o,a,"next",t)}function a(t){s(r,e,n,o,a,"throw",t)}o(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},d6e4:function(l,t,e){"use strict";e.d(t,"a",function(){return u});var o=e("7a23"),f=e("8da3"),n=e("f344"),t=e("c199"),r=e("1da4"),a=e("fe7e"),i=e("f691"),h=e("e41f"),e=e("f827");const[d,p]=Object(a.a)("notify");var a=Object(n.a)({},e.b,{type:Object(i.e)("danger"),color:String,message:i.f,position:Object(i.e)("top"),className:i.h,background:String,lockScroll:Boolean}),c=Object(o.l)({name:d,props:a,emits:["update:show"],setup(t,{emit:e,slots:n}){const r=t=>e("update:show",t);return()=>Object(o.k)(h.a,{show:t.show,class:[p([t.type]),t.className],style:{color:t.color,background:t.background},overlay:!1,position:t.position,duration:.2,lockScroll:t.lockScroll,"onUpdate:show":r},{default:()=>[n.default?n.default():t.message]})}});let m,s;const g=t=>Object(f.f)(t)?t:{message:t};function u(t){if(n.c)return s||({instance:s}=Object(r.a)({setup(){const{state:t,toggle:e}=Object(r.b)();return()=>Object(o.k)(c,Object(o.r)(t,{"onUpdate:show":e}),null)}})),t=Object(n.a)({},u.currentOptions,g(t)),s.open(t),clearTimeout(m),0<t.duration&&(m=window.setTimeout(u.clear,t.duration)),s}const b=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});u.clear=()=>{s&&s.toggle(!1)},u.currentOptions=b(),u.setDefaultOptions=t=>{Object(n.a)(u.currentOptions,t)},u.resetDefaultOptions=()=>{u.currentOptions=b()},u.Component=Object(t.a)(c),u.install=t=>{t.use(u.Component),t.config.globalProperties.$notify=u}}}]);